{% extends 'base.html.twig' %}

{% block title %}Liste des articles - {{parent()}} {% endblock %}

{% block body %}

	<main>

		<h1 class="text-center">Liste des articles</h1>

		<p class="col-12 display-4">Cliquer sur le titre de l'article pour le lire</p>

        <!-- Liste des articles -->
        <div class="col">

            <div class="row">

				<!-- Boucle d'affichage de tous les articles -->
				{% for article in articles %}

				<div class="col-12 col-md-6 col-lg-4">

					<div class="card card-article mb-4">

						<div class="card-body" style="background: rgb(211, 211, 211);">

							<!-- Affichage du titre de l'article -->
							<h4 class="card-title">

								<a href="{{ path('article_show', {slug: article.slug}) }}">
										{{ article.title }}
								</a>

							</h4>

							<!-- Affichage du début la description de l'article (texte tronqué) -->
							<p class="card-text">{{ article.description | u.truncate(80, '...', false) }}</p>

							<!-- Affichage de la catégorie de l'article -->
							<p>Catégorie : {{ article.categories }}</p>

							<!-- Affichage de la date de publication de l'article -->
							{# Utilisation du bundle knp-time-bundle, qui permet d'afficher le nombre de jours de la publication #}
							<p>Publié le <time>{{ article.createdAt | ago }}</time></p>

						</div>

					</div>

				</div>

				{% endfor %}

			</div>

		</div>

	</Main>

{% endblock %}
