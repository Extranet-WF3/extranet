{% extends 'base.html.twig' %}

{% block title %}Article - {{parent()}}{% endblock %}

{% block body %}

    <main class="container-fluid">

        <div class="row">

            <div class="col-8 offset-2 border rounded mt-5 py-3">
            <h1>{{ article.title }}</h1>
            </div>

        </div>

        <div class="row">

            <div class="col-8 offset-2 border rounded mt-4 mb-0 pt-3">
            <p>Catégorie : <span class="font-weight-bold" > {{ article.categories }}</span></p>
            </div>
            
        </div>

        <div class="row">

            <div class="col-8 offset-2 border rounded text-justify mt-4 pt-3">

            <article>{{ article.description }}</article>

            </div>

        </div>
        
        <div class="row">

            <div class="col-8 offset-2 border rounded mt-4 pt-3">

            <a href="{{ article.originalLink }}">Lien de l’article</a>

        </div>

        <div class="row">

            <div class="col-8 offset-2 border rounded mt-4 pt-3">

            <p>Date de publication : <time class="inline-block">{{ article.createdAt |format_date ('long', locale='fr') }}</time></p>

            </div>

        </div>

        <div class="col mt-4">

            {# Bouton de modification avec condition de connexion de l'utilisateur et d'autorisation de modifier car l'article lui est associé #}
            {% if is_granted('edit', article) %}


            <a href="{{ path('article_edit', {id: article.id}) }}" class="btn btn-secondary mr-3">Modifier</a>

            {% endif %}

            {# Bouton de supression avec condition de connexion de l'utilisateur et d'autorisation de supprimer car l'article lui est associé #}
            {% if is_granted('delete', article) %}

            <a href="{{ path('article_delete', {id: article.id}) }}" class="btn btn-danger">Supprimer</a>

            {% endif %}

        </div>

    </Main>

{% endblock %}
